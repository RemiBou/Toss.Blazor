@inject IExceptionNotificationService exceptionNotificationService;
@inject IAccountService accountService;
@inject IHttpApiClientRequestBuilderFactory ClientFactory;
@inject IUriHelper urlHelper;
@implements IDisposable;
@inject IMessageService messageService;
<Message />
<div class="main">
    @Body
</div>
@functions {

    [Parameter]
    RenderFragment Body { get; set; }


    protected override void OnInit()
    {
        this.exceptionNotificationService.OnException += HandleExceptions;
        base.OnInit();
    }

    private void HandleExceptions(object sender, string s)
    {
        messageService.Error(s);
    }
    public void Dispose()
    {

        this.exceptionNotificationService.OnException -= HandleExceptions;
    }
}
